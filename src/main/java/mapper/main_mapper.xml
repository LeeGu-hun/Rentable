<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mainSQL">
	<!-- 이름이 다를 경우 사용 한다 -->
	<!-- <resultMap type="member" id="member"> <result property="name" column="name"/> 
		<result property="email" column="email"/> <result property="password" column="password"/> 
		<result property="regdate" column="regdate"/> </resultMap> -->

	<select id="getMainItemList" resultType="bean.bean_rent_products">
		select
		RP_itemnum,RP_itemname,RP_price,to_date(RP_startdate,'yy/mm/dd') as
		RP_startdate, to_date(RP_enddate,'yy/mm/dd') as RP_enddate, RP_img1
		from
		rent_products
		order by rp_regdate desc
	</select>

	<select id="maincate" resultType="bean.Bean_Category">
		select * from rent_maincate
	</select>

	<select id="subcate" resultType="bean.bean_rent_products">
		select (CASE WHEN
		COUNT(rp_catesub) is null THEN 0 ELSE count(RP_catesub) END) as RP_subCount,
		rp_catesub from rent_products where rp_catemain=#{RP_catemain} group by
		rp_catesub
	</select>
	
	<select id="getmaincateitems" resultType="bean.bean_rent_products">
		select
		RP_itemnum,RP_itemname,RP_price,to_date(RP_startdate,'yy/mm/dd') as
		RP_startdate, to_date(RP_enddate,'yy/mm/dd') as RP_enddate, RP_img1
		from
		rent_products where rp_catemain = #{RP_catemain}
		order by rp_regdate desc
	</select>
	

	<!-- <select id="subcate" resultType="bean.Bean_Category"> select subcate_value 
		from rent_subcate where maincate_code = #{maincate_code} </select> -->

</mapper>

